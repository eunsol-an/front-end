<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Up Down Game</title>
</head>
<body>
    <h1>Up Donw Game</h1>
    <ol>
        <li>랜덤 숫자 만들기 버튼을 클릭하면 컴퓨터가 랜덤으로 1~99(포함)의 숫자 1개를 생성한다</li>
        <li>숫자가 생성되면 컴퓨터가 랜덤으로 숫자를 생성하였습니다 라는 안내 문구가 출력된다</li>
        <li>input란에 1~99(포함)숫자를 입력하고 맞추기라는 버튼을 클릭하면</li>
        <li>컴퓨터의 숫자보다 높은 숫자이면 Downm을 출력, 낮은 숫자면 Up을 출력</li>
        <li>컴퓨터의 숫자를 맞추면 정답입니다~ 컴퓨터 숫자는 ? 이었습니다 라는 메세지 출력</li>
    </ol>
    <button type="button" id="makeNumBtn">랜덤 숫자 만들기</button>
    <h3 id="infoText"></h3>
    <input type="text" id="userNum">
    <button type="button" id="answerBtn">맞추기</button>
    <h3 id="answerText"></h3>
    <script>
        document.getElementById('makeNumBtn').addEventListener('click', makeRandomNum);
        document.getElementById('answerBtn').addEventListener('click', compareNum);

        // 랜덤 숫자 생성 함수
        let randomNum = 0;
        function makeRandomNum() {
            randomNum = Math.floor(Math.random() * 99) + 1;
            console.log(randomNum);
            document.getElementById('infoText').innerText = '컴퓨터가 랜덤으로 숫자를 생성하였습니다. 기회는 5번 입니다! 1~99 중 어떤 숫자 일까요?!';
        }

        // 정답 맞추는 함수
        let count = 0;
        let answerText = '';
        function answerRandomNum(userNum) {
            // let userNum = parseInt(document.getElementById('userNum').value);
            if (count < 5) {
                count++;
                answerText = userNum == randomNum
                ? `${count}번만에 정답을 맞췄습니다! 컴퓨터의 숫자는 ${randomNum} 이었습니다! 대단한걸요?!`
                : userNum > randomNum
                ? `Donw! 기회는 단 ${5-count}번!` : `Up! 기회는 단 ${5-count}번!`;
            } else {
                answerText = '아쉽지만 5번의 기회가 끝났습니다.';
            }
            document.getElementById('answerText').innerText = answerText;
        }

        // 1~99 판별 함수
        function compareNum() {
            let userNum = parseInt(document.getElementById('userNum').value);
            if (userNum > 0 && userNum < 100) {
                answerRandomNum(userNum);
            } else {
                answerText = '1 부터 99 사이의 숫자를 입력해주세요!';
            }
            document.getElementById('answerText').innerText = answerText;
        }
    </script>
</body>
</html>
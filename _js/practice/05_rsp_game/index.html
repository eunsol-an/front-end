<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가위 바위 보 게임</title>
</head>
<body>
    <h1>컴퓨터가 가위바위보를 정하면 나도 가위 바위 보 버튼 중 한개를 선택하여 게임을 한다</h1>
    <h3>총 5번의 게임에서 각 게임마다 승 무 패를 출력한다</h3>
    <button type="button" id="s">가위</button>
    <button type="button" id="r">바위</button>
    <button type="button" id="p">보</button>
    <h2 id="resultMsg"></h2>
    <h3 id="resultPer"></h3>
    <button type="button" id="resetBtn" style="display: none;">다시 시작</button>
    <script>
        // 컴퓨터 가위바위보 함수
        function makeRsp() {
            let rsp = Math.floor(Math.random() * 3) + 1
            console.log(rsp);
            gameRsp(rsp);
        }

        // 가위바위보 게임 함수
        let same = 0, lose = 0, win = 0;
        let count = 0;
        function gameRsp(rsp) {
            document.getElementById('resultMsg').style.display = "block";
            document.getElementById('resultPer').style.display = "block";
            let resultMsg = '';
            if (count < 5) {
                if (rsp == 1) {
                    count++;
                    same++;
                    resultMsg = '무승부!'
                } else if (rsp == 2) {
                    count++;
                    lose++;
                    resultMsg = '졌습니다!'
                } else if (rsp == 3) {
                    count++;
                    win++;
                    resultMsg = '이겼습니다!'
                }
            } else {
                resultMsg = '5번의 기회가 끝났습니다. 다시 시작 버튼을 눌러주세요!'
                document.getElementById('resetBtn').style.display = "block";
            }
            console.log(resultMsg, same, lose, win);
            printRsp(resultMsg, same, lose, win);
        }

        // 결과 출력 함수
        function printRsp(resultMsg, same, lose, win) {
            document.getElementById('resultMsg').innerText = resultMsg;
            document.getElementById('resultPer').innerHTML = `승: ${win}, 무: ${same}, 패: ${lose}`
        }

        // 게임 다시시작 함수
        function resetRsp() {
            count = 0, same = 0, lose = 0, win = 0;
            document.getElementById('resultMsg').style.display = "none";
            document.getElementById('resultPer').style.display = "none";
            document.getElementById('resetBtn').style.display = "none";
        }

        document.getElementById('s').addEventListener('click', makeRsp);
        document.getElementById('r').addEventListener('click', makeRsp);
        document.getElementById('p').addEventListener('click', makeRsp);
        document.getElementById('resetBtn').addEventListener('click', resetRsp);
    </script>
</body>
</html>